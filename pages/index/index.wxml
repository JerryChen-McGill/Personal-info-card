<!--index.wxml-->
<navigation-bar title="个人名片" back="{{false}}" color="white" background="#4A90E2">
  <view slot="right" class="edit-btn" hover-class="edit-btn-hover" bindtap="goToEdit">
    <image src="/images/edit.png" mode="aspectFit" class="edit-icon"></image>
  </view>
</navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="card">
    <view class="avatar-container">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/avatar.png'}}" mode="aspectFill"></image>
    </view>
    <view class="info">
      <view class="name-container" wx:if="{{userInfo.name}}">
        <text class="name">{{userInfo.name}}</text>
      </view>
      <text class="title" wx:if="{{userInfo.title}}">{{userInfo.title}}</text>

      <view class="divider" wx:if="{{userInfo.phone || userInfo.email || userInfo.address}}"></view>
      <view class="contact" wx:if="{{userInfo.phone || userInfo.email || userInfo.address}}">
        <view class="contact-item" hover-class="contact-item-hover" hover-stay-time="50" bindtap="copyText" data-type="phone" wx:if="{{userInfo.phone}}">
          <view class="icon-container">
            <image src="/images/wechat.png" class="contact-icon"></image>
          </view>
          <text class="contact-value">{{userInfo.phone}}</text>
        </view>
        <view class="contact-item" hover-class="contact-item-hover" hover-stay-time="50" bindtap="copyText" data-type="email" wx:if="{{userInfo.email}}">
          <view class="icon-container">
            <image src="/images/e-mail.png" class="contact-icon"></image>
          </view>
          <text class="contact-value">{{userInfo.email}}</text>
        </view>
        <view class="contact-item" hover-class="contact-item-hover" hover-stay-time="50" bindtap="copyText" data-type="address" wx:if="{{userInfo.address}}">
          <view class="icon-container">
            <image src="/images/address.png" class="contact-icon"></image>
          </view>
          <text class="contact-value">{{userInfo.address}}</text>
        </view>
      </view>

      <view class="divider" wx:if="{{userInfo.skills.length > 0}}"></view>
      <view class="skills-section" wx:if="{{userInfo.skills.length > 0}}">
        <text class="section-title">我擅长</text>
        <view class="skills">
          <view class="skill-tag" hover-class="skill-tag-hover" wx:for="{{userInfo.skills}}" wx:key="index">{{item}}</view>
        </view>
      </view>

      <view class="divider" wx:if="{{userInfo.hobbies.length > 0}}"></view>
      <view class="hobbies-section" wx:if="{{userInfo.hobbies.length > 0}}">
        <text class="section-title">我喜欢</text>
        <view class="hobbies">
          <view class="hobby-tag" hover-class="hobby-tag-hover" wx:for="{{userInfo.hobbies}}" wx:key="index">{{item}}</view>
        </view>
      </view>

      <view class="divider" wx:if="{{userInfo.about}}"></view>
      <view class="about-section" wx:if="{{userInfo.about}}">
        <text class="section-title">关于我</text>
        <view class="about-content">
          <text>{{userInfo.about}}</text>
        </view>
      </view>

      <!-- 自定义块列表 -->
      <block wx:if="{{userInfo.customBlocks && userInfo.customBlocks.length > 0}}">
        <view class="divider"></view>
        <view wx:for="{{userInfo.customBlocks}}" wx:key="id" class="custom-block-section">
          <text class="section-title">{{item.title}}</text>
          <view class="about-content">
            <text>{{item.content}}</text>
          </view>
        </view>
      </block>

    </view>
  </view>
</scroll-view>